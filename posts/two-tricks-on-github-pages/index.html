<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=generator content="Hugo 0.73.0"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Victor"><meta property="og:url" content="https://maolu.one/posts/two-tricks-on-github-pages/"><link rel=canonical href=https://maolu.one/posts/two-tricks-on-github-pages/><link rel=alternate type=application/atom+xml href=https://maolu.one/index.xml title=一间茅庐><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/maolu.one\/"},"articleSection":"posts","name":"使用 Github Pages 的两个小技巧","headline":"使用 Github Pages 的两个小技巧","description":"将博客切换到 Hugo 之后，我使用 Github Pages 部署生成的静态网站文件。本文介绍使用 Github Pages 的两个小技巧。 一、绑定域名到 Github Pages 的正确姿势 假设你的 Github Pages 地址为 username.github.io。 如果你想要绑定的是二级域名，比如 blog.maolu.one，则需要以下两个步骤： 在仓库的根目录创建文件，文件名：CNAME ，文件内容：blog.maolu.one ; 给域名添加 CNAME 记录，记录名：blog，记录值：username.gi","inLanguage":"en-US","author":"Victor","creator":"Victor","publisher":"Victor","accountablePerson":"Victor","copyrightHolder":"Victor","copyrightYear":"2020","datePublished":"2020-07-07 16:01:23 \u002b0800 \u002b0800","dateModified":"2020-07-07 16:01:23 \u002b0800 \u002b0800","url":"https:\/\/maolu.one\/posts\/two-tricks-on-github-pages\/","keywords":[]}</script><title>使用 Github Pages 的两个小技巧 - 一间茅庐</title><meta property="og:title" content="使用 Github Pages 的两个小技巧 - 一间茅庐"><meta property="og:type" content="article"><meta property="og:description" content="将博客切换到 Hugo 之后，我使用 Github Pages 部署生成的静态网站文件。本文介绍使用 Github Pages 的两个小技巧。 一、绑定域名到 Github Pages 的正确姿势 假设你的 Github Pages 地址为 username.github.io。 如果你想要绑定的是二级域名，比如 blog.maolu.one，则需要以下两个步骤： 在仓库的根目录创建文件，文件名：CNAME ，文件内容：blog.maolu.one ; 给域名添加 CNAME 记录，记录名：blog，记录值：username.gi"><meta name=description content="将博客切换到 Hugo 之后，我使用 Github Pages 部署生成的静态网站文件。本文介绍使用 Github Pages 的两个小技巧。 一、绑定域名到 Github Pages 的正确姿势 假设你的 Github Pages 地址为 username.github.io。 如果你想要绑定的是二级域名，比如 blog.maolu.one，则需要以下两个步骤： 在仓库的根目录创建文件，文件名：CNAME ，文件内容：blog.maolu.one ; 给域名添加 CNAME 记录，记录名：blog，记录值：username.gi"><meta property="og:locale" content="zh-CN"><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.css><link rel=stylesheet href=/css/github-markdown.css><link rel=stylesheet href=/css/highlight/tomorrow.min.css><link rel=stylesheet href=/css/index.css><link href=/index.xml rel=alternate type=application/rss+xml title=一间茅庐><link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker|Bree+Serif" rel=stylesheet></head><body><article class=post id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class="signatures site-title"><a href=/>maolu.one</a></div></header><div class=header-line></div></div><header class=post-header><h1 class=post-title>使用 Github Pages 的两个小技巧</h1><div class="row post-desc"><div class=col-xs-6><b><em>Victor @</em></b>
<time class=post-date datetime="2020-07-07 16:01:23 +0800">07 Jul 2020</time></div><div class=col-xs-6></div></div></header><div class="post-content markdown-body"><p>将博客切换到 Hugo 之后，我使用 Github Pages 部署生成的静态网站文件。本文介绍使用 Github Pages 的两个小技巧。</p><h2 id=一绑定域名到-github-pages-的正确姿势>一、绑定域名到 Github Pages 的正确姿势</h2><p><strong>假设你的 Github Pages 地址为 username.github.io。</strong></p><p>如果你想要绑定的是二级域名，比如 <strong>blog.maolu.one</strong>，则需要以下两个步骤：</p><ol><li>在仓库的根目录创建文件，文件名：<code>CNAME</code> ，文件内容：<code>blog.maolu.one</code> ;</li><li>给域名添加 CNAME 记录，记录名：<code>blog</code>，记录值：<code>username.github.io</code> 。</li></ol><p>按照以上步骤绑定的二级域名，等待 Github 自动签发好 Let&rsquo;s Encrypt 证书后，可以正常在仓库的 <code>Settings > Github Pages</code> 中开启 <code>Enforce HTTPS</code> 选项。对于没有强迫症（不需要开启 Enforce HTTPS 功能），且域名管理服务商支持 CNAME Flattening 的人，也可以按照上述方法绑定根域名，CNAME 记录名为 @。</p><p>如果你想使用正确姿势绑定是根域名，比如 <strong>maolu.one</strong>，就会稍微复杂一些。</p><ol><li>在仓库的根目录创建文件，文件名：<code>CNAME</code> ，文件内容：<code>maolu.one</code> ;</li><li>给根域名添加 4 个 A 记录，记录名：<code>@</code>，记录值分别为：185.199.108.153、185.199.109.153、185.199.110.153、185.199.111.153。这些 IP 地址有可能会改变，但频率应该会很低<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> 。</li><li>如果你的 www A 记录没有其他用处，建议添加 CNAME 记录名 www，值为 <code>username.github.io</code> 。</li></ol><p>不论哪种类型的域名，仓库根目录的 CNAME 文件的设置会覆盖仓库的 <code>Settings > Github Pages</code> 中的域名设置。所以如果你在 Setting 中设置了域名，却没有 CNAME 文件，则该设置过一会儿就失效了。</p><p>如果你的 Github Pages 中的内容是用静态网站生成器生成的，需要注意在每次提交时，是否会移除 CNAME 文件。以 Hugo 为例，在 /static 目录中新增 CNAME 文件是最为保险的方式，因为不论如何提交，都会在网站的根目录也就是仓库的根目录生成此文件。</p><h2 id=二同一个账号开通多个-github-pages>二、同一个账号开通多个 Github Pages</h2><p>有很多教程中提到一个 Github 账户只能创建一个 Github Pages 仓库，这样的说法是不对的。因为除了通过创建 username.github.io 来自动创建 Github Pages 仓库的方式，还有其他方式创建 Github Pages 仓库：</p><ol><li>创建一个普通公开仓库，名称随意。这里假设名称为 <code>another.repo</code> ；</li><li>在该仓库中，新增 gh-pages 分支，并将代码提交到此分支；此时，你就拥有了另外一个 Github Pages 仓库了，其网址为 <code>username.github.io/another.repo</code> ；</li><li>如同前文提到的绑定域名的方式一样，创建 CNAME 文件、增加 DNS 记录就可以绑定域名。</li></ol><p>多个仓库绑定域名的方式如下图所示：</p><p><img src=https://images.maolu.one/20200707173114.png alt="多个 Github Pages 绑定域名"></p><p>有了多个仓库，我们就可以不需要新建 Github 账号，创建另外的 Github Pages 仓库存放图片、脚本等内容，方便使用 Markdown 写文章时调用<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>。</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p><a href=https://docs.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain target=_blank>Configuring an apex domain</a> <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>例如：<a href=https://molunerfinn.com/typora-supports-picgo/ target=_blank>Typora 支持 PicGo 来上传图片了</a> <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><div class="row middle-xs"><div class=col-xs-12><div class=post-category><a href=/categories/tech/>Tech</a></div></div></div><div class=row><div class=col-xs-12></div></div><div style=height:50px></div><div class=site-footer><div class=site-footer-item><a href=https://movie.douban.com/people/victor_douban/ target=_blank>Douban</a></div><div class=site-footer-item><a href=https://t.me/vz_tg target=_blank>Telegram</a></div><div class=site-footer-item><a href=mailto:victor@maolu.one target=_blank>Email</a></div><div class=site-footer-item><a href=/index.xml target=_blank>RSS</a></div></div></div></div></article><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/instantpage-5.1.0.js type=module defer></script></body></html>